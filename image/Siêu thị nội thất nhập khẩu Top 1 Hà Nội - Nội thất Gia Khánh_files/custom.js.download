(function($){$(document).ready(function(){$('.wpt_product_table_wrapper .search_select').select2();if(!$('div.wpt_product_table_wrapper table').hasClass('wpt_product_table')){return!1}
var ajax_url,ajax_url_additional='/wp-admin/admin-ajax.php';if(typeof woocommerce_params==='undefined'){var site_url=$('div.wpt_product_table_wrapper').data('site_url');ajax_url=site_url+ajax_url_additional}else{ajax_url=woocommerce_params.ajax_url}
console.log(ajax_url);if(ajax_url==='undefined'+ajax_url_additional){console.log('WOO PRODUCT TABLE is not Available to this page \nOR:::SORRY!!!!: woocommerce_params is Undefine also ajax_url also undefined. So ajax will not work not. Contact with codersaiful@gmail.com');return!1}
changeSpanToAPagi();function changeSpanToAPagi(){$('div.wpt_table_pagination span.page-numbers.current').each(function(){var _number=$(this).html();$('div.wpt_table_pagination span.page-numbers.current').replaceWith('<a class="page-numbers current">'+_number+'</a>')});$('div.wpt_table_pagination a.page-numbers').each(function(){var _number=$(this).html();$(this).attr('data-page_number',_number)})}
$('body').on('click','.wpt_table_pagination.pagination_loading a',function(e){e.preventDefault();return!1});$('body').on('click','.wpt_table_pagination a',function(e){e.preventDefault();var thisButton=$(this);var page_number=$(thisButton).data('page_number');var temp_number=$(thisButton).closest('.wpt_table_pagination').data('temp_number');var targetTable=$('#table_id_'+temp_number+' table#wpt_table');var targetTableArgs=targetTable.attr('data-data_json');targetTableArgs=JSON.parse(targetTableArgs);var targetTableBody=$('#table_id_'+temp_number+' table#wpt_table tbody');var thisPagiWrappers=$('#table_id_'+temp_number+' .wpt_table_pagination');var thisPagiLinks=$('#table_id_'+temp_number+' .wpt_table_pagination a.page-numbers');thisPagiLinks.removeClass('current');var load_type='current_page';var pageNumber=page_number;targetTableBody.css('opacity','0.2');thisPagiWrappers.addClass('pagination_loading');$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_query_table_load_by_args',temp_number:temp_number,targetTableArgs:targetTableArgs,pageNumber:pageNumber,load_type:load_type,},complete:function(){$(document).trigger('wc_fragments_refreshed');loadMiniFilter()},success:function(data){targetTableBody.html(data);targetTableBody.css('opacity','1');var $data={action:'wpt_ajax_paginate_links_load',temp_number:temp_number,targetTableArgs:targetTableArgs,pageNumber:pageNumber,load_type:load_type,};loadPaginationLinks($data,temp_number);removeCatTagLings();updateCheckBoxCount(temp_number);uncheckAllCheck(temp_number);emptyInstanceSearchBox(temp_number);pageNumber++;targetTable.attr('data-page_number',pageNumber)},error:function(){alert("Error On Ajax Query Load. Please check console.");console.log('Error Here')},})});var config_json=$('#wpt_table').data('config_json');if(typeof config_json==='undefined'){return!1}
console.log(config_json);var footer_cart=config_json.footer_cart;var footer_cart_size=config_json.footer_cart_size;var footer_possition=config_json.footer_possition;var footer_bg_color=config_json.footer_bg_color;$('body').append("<div class='wpt_notice_board'></div>");$('body').append('<div style="height: '+footer_cart_size+'px;width: '+footer_cart_size+'px;" class="wpt-footer-cart-wrapper '+footer_possition+' '+footer_cart+'"><a target="_blank" href="#"></a></div>');function WPT_NoticeBoard(){var noticeBoard=$('div.wpt_notice_board');$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_print_notice'},success:function(response){if(response!==''){noticeBoard.html(response);var boardHeight=noticeBoard.height();var boardWidth=noticeBoard.width();var windowHeight=$(window).height();var windowWidth=$(window).width();var topCal=(windowHeight-(boardHeight+20))/2;var leftCal=(windowWidth-(boardWidth+20))/2;noticeBoard.css({top:topCal+'px',left:leftCal+'px',});noticeBoard.fadeIn('slow')}
var myTimeOut=setTimeout(function(){noticeBoard.fadeOut('medium');clearTimeout(myTimeOut)},2000)},error:function(){console.log("Unable to load Notice");return!1}})}
$('body').on('click','div.wpt_notice_board',function(){$(this).fadeOut('fast')});function WPT_MiniCart(){var minicart_type=$('div.tables_cart_message_box').attr('data-type');$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_fragment_refresh'},success:function(response){setFragmentsRefresh(response);var cart_hash=response.cart_hash;var fragments=response.fragments;var html='';var supportedElement=['div.widget_shopping_cart_content','a.cart-contents','a.footer-cart-contents'];if(fragments&&cart_hash!==''){if(minicart_type==='load'){$.each(fragments,function(key,value){if($.inArray(key,supportedElement)!=-1){html+=value}});$('div.tables_cart_message_box').attr('data-type','refresh');$('div.tables_cart_message_box').html(html)}else{$.each(fragments,function(key,value){if($.inArray(key,supportedElement)!=-1){$(key).replaceWith(value)}})}}},error:function(){alert("Unable to Load Minicart");return!1}})}
WPT_MiniCart();if(config_json.thumbs_lightbox==='1'||config_json.thumbs_lightbox===1){$('body').on('click','.wpt_product_table_wrapper .wpt_thumbnails img',function(){var thisImg=$(this);var image_width,final_image_url,variation_id,imgSize;variation_id=$(this).attr('data-variation_id');if('undefined'!==typeof variation_id){$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_variation_image_load',variation_id:variation_id,},success:function(result){imgSize=result.split(" ");final_image_url=imgSize[0];image_width=imgSize[1];IMG_Generator(thisImg,final_image_url,image_width)}})}else{image_width=$(this).parent().data('width');final_image_url=$(this).parent().data('url');IMG_Generator(thisImg,final_image_url,image_width)}});function IMG_Generator(thisImg,final_image_url,image_width){var image_height,product_title,placeholder_image,wrapper_style;image_height='auto';if('undefined'===typeof final_image_url){placeholder_image=$(thisImg).attr('src');console.log("No Thumbnail Image founded");final_image_url=placeholder_image;wrapper_style=''}else{wrapper_style="style='width: "+image_width+"px; height:"+image_height+"px'"}
product_title=$(thisImg).closest('tr').data('title');var html='<div id="wpt_thumbs_popup" class="wpt_thumbs_popup"><div class="wpt_popup_image_wrapper" '+wrapper_style+'><span title="Close" id="wpt_popup_close">&times;</span><h2 class="wpt_wrapper_title">'+product_title+'</h2><div class="wpt_thums_inside">';html+='<img class="wpt_popup_image" src="'+final_image_url+'">';html+='</div></div></div>';if($('body').append(html)){var PopUp=$('.wpt_thumbs_popup, #wpt_thumbs_popup');PopUp.fadeIn('slow');var Wrapper=$('div.wpt_popup_image_wrapper');Wrapper.fadeIn()}}
$('body').on('click','.wpt_popup_image_wrapper',function(){return!1});$('body').on('click','#wpt_thumbs_popup span#wpt_popup_close, #wpt_thumbs_popup',function(){$('#wpt_thumbs_popup').fadeOut(function(){$(this).remove()})})}
$('body').on('click','a.button.wpt_woo_add_cart_button.outofstock_add_to_cart_button.disabled',function(e){e.preventDefault();alert(config_json.sorry_out_of_stock);return!1});$('body').on('click','a.ajax_active.wpt_variation_product.single_add_to_cart_button.button.enabled, a.ajax_active.add_to_cart_button.wpt_woo_add_cart_button',function(e){e.preventDefault();var thisButton=$(this);thisButton.addClass('disabled');thisButton.addClass('loading');var product_id=$(this).data('product_id');var temp_number=$(this).closest('.wpt_variation_'+product_id).data('temp_number');var qtyElement=$('#table_id_'+temp_number+' #product_id_'+product_id+' input.input-text.qty.text');var min_quantity=qtyElement.attr('min');if(min_quantity==='0'||typeof min_quantity==='undefined'){min_quantity=1}
var checkoutURL=$('#table_id_'+temp_number).data('checkout_url');var quantity=$(this).attr('data-quantity');var custom_message=$('#table_id_'+temp_number+' table#wpt_table .wpt_row_product_id_'+product_id+' .wpt_Message input.message').val();var variation_id=$(this).attr('data-variation_id');var variation=$(this).attr('data-variation');if(variation){variation=JSON.parse(variation)}
if(!quantity||quantity==='0'){thisButton.removeClass('disabled');thisButton.removeClass('loading');alert("Sorry! 0 Quantity");return!1;quantity=1}
var get_data=$(this).attr('href')+'&quantity='+quantity;$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_ajax_add_to_cart',variation:variation,variation_id:variation_id,product_id:product_id,quantity:quantity,custom_message:custom_message,},complete:function(){$(document).trigger('wc_fragments_refreshed')},success:function(response){$(document.body).trigger('added_to_cart',[response.fragments,response.cart_hash,thisButton]);thisButton.removeClass('disabled');thisButton.removeClass('loading');thisButton.addClass('added');qtyElement.val(min_quantity);thisButton.attr('data-quantity',min_quantity);if(config_json.popup_notice==='1'){WPT_NoticeBoard()}
if(config_json.product_direct_checkout==='yes'){window.location.href=checkoutURL}},error:function(){alert('Failed - Unable to add by ajax')},})});$('body').on('click','a.wpt_variation_product.single_add_to_cart_button.button.disabled,a.disabled.yith_add_to_quote_request.button',function(e){e.preventDefault();alert(config_json.no_right_combination);return!1});$('body').on('click','a.wpt_woo_add_cart_button.button.disabled.loading,a.disabled.yith_add_to_quote_request.button.loading',function(e){e.preventDefault();alert(config_json.adding_in_progress);return!1});$('body').on('change','.wpt_varition_section',function(){var product_id=$(this).data('product_id');var temp_number=$(this).data('temp_number');var target_class='.wpt_variation_'+product_id;var quoted_target='yith_request_temp_'+temp_number+'_id_'+product_id;var targetRightCombinationMsg=config_json.right_combination_message;var selectAllItemMessage=config_json.select_all_items_message;var outOfStockMessage=config_json.out_of_stock_message;var targetThumbs=$('#table_id_'+temp_number+' #product_id_'+product_id+' td.wpt_thumbnails img');var targetThumbsTd=$('#table_id_'+temp_number+' #product_id_'+product_id+' td.wpt_thumbnails');var htmlStored=targetThumbsTd.attr('data-html_stored');var targetThumbsText;if(htmlStored!=='added'){targetThumbsText=targetThumbsTd.html();targetThumbsTd.attr('data-html',targetThumbsText)}
targetThumbsTd.attr('data-html_stored','added');var targetThumbsHTML=targetThumbsTd.attr('data-html');var variations_data=$(this).closest(target_class).data('product_variations');var messageSelector=$(this).children('div.wpt_message');var addToCartSelector=$('#table_id_'+temp_number+' #product_id_'+product_id+' a.wpt_variation_product.single_add_to_cart_button');var addToQuoteSelector=$('.'+quoted_target);var checkBoxSelector=$('.wpt_check_temp_'+temp_number+'_pr_'+product_id);function targetTD(td_name){var targetElement=$('#table_id_'+temp_number+' #product_id_'+product_id+' td.wpt_'+td_name);return targetElement}
function setValueToTargetTD_IfAvailable(target_td_name,gotten_value){if(gotten_value!==""){targetTD(target_td_name).html(gotten_value)}}
function setValueToTargetTD(target_td_name,gotten_value){targetTD(target_td_name).html(gotten_value)}
function getValueFromOldTD(target_td_name,datas_name){var product_descrition_old=targetTD(target_td_name).data(datas_name);targetTD(target_td_name).html(product_descrition_old)}
var current={};var additionalAddToCartUrl='';if(addToCartSelector.is('.no_ajax_action')){additionalAddToCartUrl='?'}
var quote_data='';$(this).children('select').each(function(){var attribute_name=$(this).data('attribute_name');var attribute_value=$(this).val();current[attribute_name]=attribute_value;additionalAddToCartUrl+='&'+attribute_name+'='+attribute_value});if($.isEmptyObject(variations_data)){targetRightCombinationMsg=config_json.right_combination_message_alt}
var targetVariationIndex='not_found';var selectAllItem=!0;variations_data.forEach(function(attributesObject,objectNumber){$.each(current,function(key,value){if(value==="0"){selectAllItem=!1}});var total_right_combination=0,total_combinationable=0;if(selectAllItem){$.each(attributesObject.attributes,function(key,value){if(value===""||value===current[key]){total_right_combination++}
total_combinationable++});if(total_right_combination===total_combinationable){targetVariationIndex=parseInt(objectNumber)}}else{targetRightCombinationMsg=selectAllItemMessage}});var wptMessageText=!1;if(targetVariationIndex!=='not_found'){var targetAttributeObject=variations_data[targetVariationIndex];additionalAddToCartUrl+='&variation_id='+targetAttributeObject.variation_id;quote_data=additionalAddToCartUrl;additionalAddToCartUrl=addToCartSelector.data('add_to_cart_url')+additionalAddToCartUrl;addToCartSelector.attr('href',additionalAddToCartUrl);if(targetAttributeObject.is_in_stock){disbale_enable_class()}else{targetRightCombinationMsg=outOfStockMessage;enable_disable_class()}
addToCartSelector.attr('data-variation',JSON.stringify(current));addToCartSelector.attr('data-variation_id',targetAttributeObject.variation_id);addToQuoteSelector.attr('data-variation',JSON.stringify(current));addToQuoteSelector.attr('data-variation_id',targetAttributeObject.variation_id);addToQuoteSelector.attr('data-quote_data',quote_data);if(targetAttributeObject.availability_html===""){wptMessageText='<p class="stock in-stock">In stock</p>'}else{wptMessageText=targetAttributeObject.availability_html}
setValueToTargetTD_IfAvailable('price',targetAttributeObject.price_html);targetThumbs.attr('src',targetAttributeObject.image.gallery_thumbnail_src);if(targetAttributeObject.image.srcset&&'false'!==targetAttributeObject.image.srcset){targetThumbs.attr('srcset',targetAttributeObject.image.srcset)};setValueToTargetTD_IfAvailable('sku',targetAttributeObject.sku);var targetQty=$('#table_id_'+temp_number+' #product_id_'+product_id+' td.wpt_quantity .quantity input.input-text.qty.text').val();if(!targetQty){targetQty=1}
var targetQtyCurrency=targetTD('total').data('currency');var targetPriceDecimalSeparator=targetTD('total').data('price_decimal_separator');var targetPriceThousandlSeparator=targetTD('total').data('thousand_separator');var targetNumbersPoint=targetTD('total').data('number_of_decimal');var totalPrice=parseFloat(targetQty)*parseFloat(targetAttributeObject.display_price);totalPrice=totalPrice.toFixed(targetNumbersPoint);var totalPriceHtml='<strong>'+targetQtyCurrency+totalPrice.replace(".",targetPriceDecimalSeparator)+'</strong>';setValueToTargetTD_IfAvailable('total',totalPriceHtml);targetTD('total').attr('data-price',targetAttributeObject.display_price);targetTD('total').addClass('total_general');setValueToTargetTD_IfAvailable('description',targetAttributeObject.variation_description);var finalWeightVal=targetAttributeObject.weight*targetQty;finalWeightVal=finalWeightVal.toFixed(2);if(finalWeightVal==='NaN'){finalWeightVal=''}
targetTD('weight').attr('data-weight',targetAttributeObject.weight);setValueToTargetTD_IfAvailable('weight',finalWeightVal);setValueToTargetTD_IfAvailable('height',targetAttributeObject.dimensions.height);setValueToTargetTD_IfAvailable('length',targetAttributeObject.dimensions.length);setValueToTargetTD_IfAvailable('width',targetAttributeObject.dimensions.width);targetThumbs.attr('data-variation_id',targetAttributeObject.variation_id)}else{addToCartSelector.attr('data-variation',!1);addToCartSelector.attr('data-variation_id',!1);addToQuoteSelector.attr('data-variation',!1);addToQuoteSelector.attr('data-variation_id',!1);addToQuoteSelector.attr('data-quote_data',!1);wptMessageText='<p class="wpt_warning warning">'+targetRightCombinationMsg+'</p>';enable_disable_class();getValueFromOldTD('price','price_html');getValueFromOldTD('sku','sku');setValueToTargetTD('total','');targetTD('total').attr('data-price','');targetTD('total').removeClass('total_general');getValueFromOldTD('description','product_description');var oldBackupWeight=targetTD('weight').attr('data-weight_backup');targetTD('weight').attr('data-weight',oldBackupWeight);var oldWeightVal=oldBackupWeight*targetQty;setValueToTargetTD_IfAvailable('weight',oldWeightVal);getValueFromOldTD('length','length');getValueFromOldTD('width','width');getValueFromOldTD('height','height');targetThumbsTd.html(targetThumbsHTML);targetThumbs.removeAttr('data-variation_id')}
messageSelector.html(wptMessageText);function enable_disable_class(){addToCartSelector.removeClass('enabled');addToCartSelector.addClass('disabled');addToQuoteSelector.removeClass('enabled');addToQuoteSelector.addClass('disabled');checkBoxSelector.removeClass('enabled');checkBoxSelector.addClass('disabled')}
function disbale_enable_class(){addToCartSelector.removeClass('disabled');addToCartSelector.addClass('enabled');addToQuoteSelector.removeClass('disabled');addToQuoteSelector.addClass('enabled');checkBoxSelector.removeClass('disabled');checkBoxSelector.addClass('enabled')}});$('.wpt_varition_section').each(function(){var current_value=$(this).children('select').val();if(current_value!=='0'){$(this).trigger('change')}});$('body').on('click','input.wpt_tabel_checkbox.wpt_td_checkbox.disabled',function(e){e.preventDefault();alert(config_json.sorry_plz_right_combination);return!1});$('a.button.add_to_cart_all_selected').click(function(){var temp_number=$(this).data('temp_number');var checkoutURL=$('#table_id_'+temp_number).data('checkout_url');var currentAllSelectedButtonSelector=$('#table_id_'+temp_number+' a.button.add_to_cart_all_selected');currentAllSelectedButtonSelector.addClass('disabled');currentAllSelectedButtonSelector.addClass('loading');var add_cart_text=$('#table_id_'+temp_number).data('add_to_cart');var products_data={};var itemAmount=0;$('#table_id_'+temp_number+' input.enabled.wpt_tabel_checkbox.wpt_td_checkbox:checked').each(function(){var product_id=$(this).data('product_id');var thisButton=$('tr.wpt_row_product_id_'+product_id+' td.wpt_action a.button.wpt_woo_add_cart_button');thisButton.removeClass('added');thisButton.addClass('disabled');thisButton.addClass('loading');var qtyElement=$('#table_id_'+temp_number+' #product_id_'+product_id+' input.input-text.qty.text');var min_quantity=qtyElement.attr('min');if(min_quantity==='0'||typeof min_quantity==='undefined'){min_quantity=1}
var currentAddToCartSelector=$('#table_id_'+temp_number+' #product_id_'+product_id+' .wpt_action a.wpt_woo_add_cart_button');var currentCustomMessage=$('#table_id_'+temp_number+' #product_id_'+product_id+' .wpt_Message input.message').val();var currentVariaionId=currentAddToCartSelector.data('variation_id');var currentVariaion=currentAddToCartSelector.data('variation');var currentQantity=$('#table_id_'+temp_number+' table#wpt_table .wpt_row_product_id_'+product_id+' .wpt_quantity .quantity input.input-text.qty.text').val();products_data[product_id]={product_id:product_id,quantity:currentQantity,variation_id:currentVariaionId,variation:currentVariaion,custom_message:currentCustomMessage,};itemAmount++});if(itemAmount<1){currentAllSelectedButtonSelector.removeClass('disabled');currentAllSelectedButtonSelector.removeClass('loading');alert('Please Choose items.');return!1}
$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_ajax_mulitple_add_to_cart',products:products_data,},complete:function(){$(document).trigger('wc_fragments_refreshed')},success:function(response){$(document.body).trigger('added_to_cart',[response.fragments,response.cart_hash,$('added_to_cart')]);currentAllSelectedButtonSelector.html(add_cart_text+' [ '+itemAmount+' '+config_json.add2cart_all_added_text+' ]');if(config_json.popup_notice==='1'){WPT_NoticeBoard()}
if(config_json.all_selected_direct_checkout==='yes'){window.location.href=checkoutURL;return}else{currentAllSelectedButtonSelector.removeClass('disabled');currentAllSelectedButtonSelector.removeClass('loading')}
$('#table_id_'+temp_number+' input.enabled.wpt_tabel_checkbox.wpt_td_checkbox:checked').each(function(){var product_id=$(this).data('product_id');var thisButton=$('tr.wpt_row_product_id_'+product_id+' td.wpt_action a.button.wpt_woo_add_cart_button');thisButton.removeClass('disabled');thisButton.removeClass('loading');thisButton.addClass('added');var qtyElement,min_quantity;qtyElement=$('#table_id_'+temp_number+' #product_id_'+product_id+' input.input-text.qty.text');min_quantity=qtyElement.attr('min');if(min_quantity==='0'||typeof min_quantity==='undefined'){min_quantity=1}
qtyElement.val(min_quantity)});uncheckAllCheck(temp_number)},error:function(){alert('Failed')},})});$(document).on('wc_fragments_refreshed',function(){WPT_MiniCart()});$(document).on('wc_fragments_refresh',function(){WPT_MiniCart()});$(document).on('wc_fragment_refresh',function(){WPT_MiniCart()});$(document).on('removed_from_cart',function(){WPT_MiniCart()});$('div.wpt-footer-cart-wrapper>a').css('background-color',footer_bg_color);$('body').append('<style>div.wpt-footer-cart-wrapper>a:after{background-color: '+footer_bg_color+';}</style>');function setFragmentsRefresh(response){var FooterCart=$('div.wpt-footer-cart-wrapper');$('span.wpt_ccount').html('');$('.wpt_action>a.wpt_woo_add_cart_button').removeClass('added');if(response!=='undefined'){var fragments=response.fragments;if(fragments){$.each(fragments,function(key,value){$(key).replaceWith(value)})}
var wpt_per_product=fragments.wpt_per_product;wpt_per_product=$.parseJSON(wpt_per_product)
if(wpt_per_product&&wpt_per_product!=='false'){if(footer_cart!=='always_hide'){FooterCart.fadeIn('slow')}
$.each(wpt_per_product,function(key,value){$('.wpt_row_product_id_'+key+' .wpt_action button.single_add_to_cart_button>.wpt_ccount.wpt_ccount_'+key).remove();$('.wpt_row_product_id_'+key+' .wpt_action>a.wpt_woo_add_cart_button').addClass('added');$('.wpt_row_product_id_'+key+' .wpt_action>a.wpt_woo_add_cart_button').append('<span class="wpt_ccount wpt_ccount_'+key+'">'+value+'</span>')})}else{if(footer_cart==='hide_for_zerro'){FooterCart.fadeOut('slow')}}
$('div.wpt-footer-cart-wrapper>a').css('background-color',footer_bg_color)}}
function oneSecondDelay(f,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer);timer=window.setTimeout(function(){f.apply(context,args)},delay||500)}}
$('.query_box_direct_value').keyup(oneSecondDelay(function(){var thisID=$(this).attr('id');var temp_number=thisID.replace('single_keyword_','');$('#wpt_query_search_button_'+temp_number).trigger('click')}));$('body').on('change','.search_select,.query_box_direct_value',function(){var thisID=$(this).parents('.wpt_product_table_wrapper').attr('id');var temp_number=thisID.replace('table_id_','');$('#wpt_query_search_button_'+temp_number).trigger('click')});$('body').on('click','button.wpt_query_search_button,button.wpt_load_more',function(){var temp_number=$(this).data('temp_number');var loadingText=config_json.loading_more_text;var searchText=config_json.search_button_text;var loadMoreText=config_json.load_more_text;var thisButton=$(this);var actionType=$(this).data('type');var load_type=$(this).data('load_type');thisButton.html(loadingText);var targetTable=$('#table_id_'+temp_number+' table#wpt_table');var targetTableArgs=targetTable.data('data_json');var targetTableBody=$('#table_id_'+temp_number+' table#wpt_table tbody');var pageNumber=targetTable.attr('data-page_number');if(actionType==='query'){pageNumber=1}
var key,value;var directkey={};$('#search_box_'+temp_number+' .search_single_direct .query_box_direct_value').each(function(){key=$(this).data('key');value=$(this).val();directkey[key]=value});console.log(directkey);var texonomies={};value=!1;$('#search_box_'+temp_number+' .search_select.query').each(function(){key=$(this).data('key');var value=$(this).val();texonomies[key]=value});console.log(texonomies);targetTableBody.prepend("<div class='table_row_loader'>"+config_json.loading_more_text+"</div>");$.ajax({type:'POST',url:ajax_url,data:{action:'wpt_query_table_load_by_args',temp_number:temp_number,directkey:directkey,targetTableArgs:targetTableArgs,texonomies:texonomies,pageNumber:pageNumber,load_type:load_type,},complete:function(){$(document).trigger('wc_fragments_refreshed');loadMiniFilter()},success:function(data){$('.table_row_loader').remove();if(actionType==='query'){$('#wpt_load_more_wrapper_'+temp_number).remove();targetTableBody.html(data);var $data={action:'wpt_ajax_paginate_links_load',temp_number:temp_number,directkey:directkey,targetTableArgs:targetTableArgs,texonomies:texonomies,pageNumber:pageNumber,load_type:load_type,};loadPaginationLinks($data,temp_number);targetTable.after('<div id="wpt_load_more_wrapper_'+temp_number+'" class="wpt_load_more_wrapper"><button data-temp_number="'+temp_number+'" data-type="load_more" class="button wpt_load_more">'+loadMoreText+'</button></div>');thisButton.html(searchText)}
if(actionType==='load_more'){if(data!==config_json.product_not_founded){targetTableBody.append(data);thisButton.html(loadMoreText);filterTableRow(temp_number)}else{$('#wpt_load_more_wrapper_'+temp_number).remove();alert(config_json.no_more_query_message)}}
removeCatTagLings();pageNumber++;targetTable.attr('data-page_number',pageNumber)},error:function(){alert("Error On Ajax Query Load. Please check console.");console.log('Error Here')},});emptyInstanceSearchBox(temp_number)});function loadPaginationLinks($data,temp_number){var targetTable=$('#table_id_'+temp_number+' table#wpt_table');$.ajax({type:'POST',url:ajax_url,data:$data,success:function(paginate_data){var thisPagiWrappers=$('#table_id_'+temp_number+' .wpt_table_pagination');thisPagiWrappers.html(paginate_data);changeSpanToAPagi();var newjsonData=$('mypagi').attr('myjson');targetTable.attr('data-data_json',newjsonData);thisPagiWrappers.removeClass('pagination_loading')}})}
$('body').on('change','select.filter_select',function(){var temp_number=$(this).data('temp_number');filterTableRow(temp_number)});$('body').on('click','a.wpt_filter_reset',function(e){e.preventDefault();var temp_number=$(this).data('temp_number');$('#table_id_'+temp_number+' select.filter_select').each(function(){$(this).children().first().attr('selected','selected')});filterTableRow(temp_number)});$('body').on('click','input.wpt_check_universal,input.enabled.wpt_tabel_checkbox.wpt_td_checkbox',function(){var temp_number=$(this).data('temp_number');var checkbox_type=$(this).data('type');if(checkbox_type==='universal_checkbox'){$('#table_id_'+temp_number+' input.enabled.wpt_tabel_checkbox.wpt_td_checkbox:visible').prop('checked',this.checked);$('input#wpt_check_uncheck_column_'+temp_number).prop('checked',this.checked);$('input#wpt_check_uncheck_button_'+temp_number).prop('checked',this.checked)}
var temp_number=$(this).data('temp_number');updateCheckBoxCount(temp_number)});function filterTableRow(temp_number){emptyInstanceSearchBox(temp_number);uncheckAllCheck(temp_number);var filterBoxYesNo=$('#table_id_'+temp_number+' .wpt_filter_wrapper').html();var ClassArray=[];var serial=0;$('#table_id_'+temp_number+' .wpt_filter_wrapper select.filter_select').each(function(){var currentClass=$(this).val();if(currentClass!==''){ClassArray[serial]='.'+currentClass;serial++}});var finalClassSelctor='.filter_row'+ClassArray.join('');console.log(finalClassSelctor);var hideAbleClass='#table_id_'+temp_number+' table tr.wpt_row';if(filterBoxYesNo){$(hideAbleClass+' td.wpt_check input.enabled.wpt_tabel_checkbox').removeClass('wpt_td_checkbox');$(hideAbleClass).css('display','none');$(hideAbleClass).removeClass('visible_row');$(finalClassSelctor).fadeIn();$(finalClassSelctor).addClass('visible_row');$(finalClassSelctor+' td.wpt_check input.enabled.wpt_tabel_checkbox').addClass('wpt_td_checkbox')}
updateCheckBoxCount(temp_number)}
function updateCheckBoxCount(temp_number){var add_cart_text=$('#table_id_'+temp_number).data('add_to_cart');var currentAllSelectedButtonSelector=$('#table_id_'+temp_number+' a.button.add_to_cart_all_selected');var itemAmount=0;$('#table_id_'+temp_number+' input.enabled.wpt_tabel_checkbox:checked').each(function(){itemAmount++});var itemText=config_json.items;if(itemAmount===1||itemAmount===0){itemText=config_json.item}
currentAllSelectedButtonSelector.html(add_cart_text+' [ '+itemAmount+' '+itemText+' ]')}
function uncheckAllCheck(temp_number){$('#table_id_'+temp_number+' input.wpt_check_universal:checkbox,#table_id_'+temp_number+' table input:checkbox').attr('checked',!1)}
$('.instance_search_input').keyup(function(){var text,value_size,serial;var temp=$(this).data('temp_number');var value=$(this).val();value=value.trim();value=value.split(' ');value=value.filter(function(eachItem){return eachItem!==''});value_size=value.length;var target_table='#table_id_'+temp+' #wpt_table';$(target_table+' tr.visible_row').each(function(){text=$(this).html();text=text.toLowerCase();serial=0;value.forEach(function(eachItem){if(text.match(eachItem.toLowerCase(),'i')){serial++}});if(serial>0||value_size===0){$(this).fadeIn()}else{$(this).fadeOut()}})});function emptyInstanceSearchBox(temp_number){$('#table_id_'+temp_number+' .instance_search_input').val('')}
$('body').on('click','a.yith_add_to_quote_request.enabled',function(e){e.preventDefault();var thisButton=$(this);if(typeof ywraq_frontend==='undefined'){alert("Quote Request plugin is not installed.");return!1}
var msg=$(this).data('msg');var response_msg=$(this).attr('data-response_msg');if(response_msg!==''){alert(response_msg);$('.'+selector).html(msg.added);return!1}
var selector=$(this).data('selector');$('.'+selector).html(msg.adding);var add_to_cart_info;var wp_nonce=$(this).data('wp_nonce');var product_id=$(this).data('product_id');var quantity=$(this).attr('data-quantity');var quote_data=$(this).attr('data-quote_data');var yith_browse_list=$(this).data('yith_browse_list');add_to_cart_info='action=yith_ywraq_action&ywraq_action=add_item';add_to_cart_info+=quote_data;add_to_cart_info+='&quantity='+quantity;add_to_cart_info+='&product_id='+product_id;add_to_cart_info+='&wp_nonce='+wp_nonce;add_to_cart_info+='&yith-add-to-cart='+product_id;var yith_ajax_url;yith_ajax_url=ywraq_frontend.ajaxurl.toString().replace('%%endpoint%%','yith_ywraq_action');$.ajax({type:'POST',url:yith_ajax_url,dataType:'json',data:add_to_cart_info,beforeSend:function(){},complete:function(){},success:function(response){console.log(response);if(response&&(response.result==='true'||response.result==='exists')){$('.'+selector).html(msg.added);if(response.result==='exists'){$('.'+selector).attr('data-response_msg',response.message)}
var html;html='<div class="yith_ywraq_add_item_response_message">'+response.message+'</div>';html+='<a href="'+response.rqa_url+'" target="_blank">'+yith_browse_list+'</a>';$('td.'+selector+'_td').html(html)}else{$('.'+selector).html(msg.added)}}})});loadMiniFilter();function loadMiniFilter(){$('.wpt_product_table_wrapper .wpt_filter_wrapper select.filter_select').each(function(){var id=$(this).attr('id');var temp_number=$(this).data('temp_number');var key=$(this).data('key');var label=$(this).data('label');var taxArray=new Array();$('#table_id_'+temp_number+' tbody tr').each(function(){var tax=$(this).data(key);if(tax&&tax!==''){tax=tax.replace(/,\s*$/,"");tax=tax.replace(/\s/g,'');tax=tax.split(',');tax.forEach(function(item){var taxDetails=item.split(':');var taxID=taxDetails[0];var taxValue=taxDetails[1];taxArray[taxID]=taxValue})}});var html='<option value="">'+label+'</option>';taxArray.forEach(function(value,number){html+='<option value="'+key+'_'+temp_number+'_'+number+'">'+value+'</option>'});$(this).html(html)})}
$('body').on('click','table.wpt_product_table thead tr th',function(){var inactivated_column=['wpt_check','wpt_action','wpt_quantity'];var class_for_sorted='this_column_sorted';var temp_number=$(this).parent().data('temp_number');var target_class='.'+$(this).attr('class').split(' ').join('.');var target_table_wrapper_id='#table_id_'+temp_number;console.log(target_class);if(target_class!=='.wpt_product_id'&&target_class!=='.wpt_thumbnails'&&target_class!=='.wpt_quick'&&target_class!=='.wpt_Message'&&target_class!=='.wpt_serial_number'&&target_class!=='.wpt_quoterequest'&&target_class!=='.wpt_check'&&target_class!=='.wpt_quantity'&&target_class!=='.wpt_action'){$(target_table_wrapper_id+' .'+class_for_sorted).removeClass(class_for_sorted);target_class='.'+$(this).attr('class').split(' ').join('.');var sort_type=$(this).attr('data-sort_type');if(!sort_type||sort_type==='ASC'){sort_type='ASC';$(this).attr('data-sort_type','DESC')}else{$(this).attr('data-sort_type','ASC')}
var contentArray=[];var contentHTMLArray=[];var currentColumnObject=$(target_table_wrapper_id+' table tbody td'+target_class);currentColumnObject.each(function(index){var text,html='';text=$(this).text();var product_id=$(this).parent('tr').data('product_id');text=text+'_'+product_id;var rowInsideHTMLData=$(this).parent('tr').html();var thisRowObject=$('#table_id_'+temp_number+' #product_id_'+product_id);var thisRowAttributes=thisRowObject[0].attributes;var thisRowAttributesHTML='';$.each(thisRowAttributes,function(i,item){if(this.specified){thisRowAttributesHTML+=this.name+'="'+this.value+'" '}});html+='<tr '+thisRowAttributesHTML+'>';html+=rowInsideHTMLData;html+='</tr>';contentArray[index]=text;contentHTMLArray[text]=html});function sortingData(a,b){if(target_class==='.wpt_price'||target_class==='.wpt_price.this_column_sorted'){a=(a.match(/\d+\.\d+|\d+\b|\d+(?=\w)/g)||[]).map(function(v){return+v});a=a[0];b=(b.match(/\d+\.\d+|\d+\b|\d+(?=\w)/g)||[]).map(function(v){return+v});b=b[0]}
var return_data;if(sort_type==='ASC'){return_data=((a<b)?-1:((a>b)?1:0))}else{return_data=((b<a)?-1:((b>a)?1:0))}
return return_data}
var sortedArray=contentArray.sort(sortingData);console.log(sortedArray);var finalHTMLData='';$.each(sortedArray,function(index,value){finalHTMLData+=contentHTMLArray[value]});$(target_table_wrapper_id+' table>tbody').html(finalHTMLData);$(target_table_wrapper_id+' '+target_class).addClass(class_for_sorted)}});removeCatTagLings();function removeCatTagLings(){if(config_json.disable_cat_tag_link==='1'){$('.wpt_category a,.wpt_tags a').contents().unwrap()}}})})(jQuery)